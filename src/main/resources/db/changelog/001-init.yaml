databaseChangeLog:
  - changeSet:
      id: 001-init
      author: ai
      changes:
        - createTable:
            tableName: universidade
            columns:
              - column: { name: id, type: BIGSERIAL, constraints: { primaryKey: true, primaryKeyName: pk_universidade } }
              - column: { name: nome, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: endereco, type: VARCHAR(255) }
        - createTable:
            tableName: curso
            columns:
              - column: { name: id, type: BIGSERIAL, constraints: { primaryKey: true, primaryKeyName: pk_curso } }
              - column: { name: nome, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: duracao_semestres, type: INT }
              - column: { name: universidade_id, type: BIGINT, constraints: { nullable: false } }
        - addForeignKeyConstraint:
            baseTableName: curso
            baseColumnNames: universidade_id
            referencedTableName: universidade
            referencedColumnNames: id
            constraintName: fk_curso_universidade
        - createTable:
            tableName: aluno
            columns:
              - column: { name: id, type: BIGSERIAL, constraints: { primaryKey: true, primaryKeyName: pk_aluno } }
              - column: { name: nome, type: VARCHAR(255), constraints: { nullable: false } }
              - column: { name: email, type: VARCHAR(255) }
              - column: { name: matricula, type: VARCHAR(50), constraints: { nullable: false, unique: true } }
              - column: { name: curso_id, type: BIGINT, constraints: { nullable: false } }
        - addForeignKeyConstraint:
            baseTableName: aluno
            baseColumnNames: curso_id
            referencedTableName: curso
            referencedColumnNames: id
            constraintName: fk_aluno_curso
